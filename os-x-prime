# OS X Prime
echo 'Welcome to OS X Prime.'

echo ; echo '--- Xcode' ; echo
echo 'Installing Xcode Command Line Tools...'
xcode-select --install

echo ; echo '--- Ruby' ; echo
echo 'Updating RubyGems...'
sudo gem update --system
echo
read -p 'Install Gem: Jekyll? (y/n) ' answer
case ${answer:0:1} in
  y|Y )
    echo 'Installing Jekyll...'
    sudo gem install jekyll
  ;;
esac

echo ; echo '--- Homebrew' ; echo
echo 'Installing Homebrew...'
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
echo
echo 'Updating Homebrew...'
brew update

echo ; echo '--- Development Packages' ; echo
read -p 'Install Development Packages? (y/n) ' answer
case ${answer:0:1} in
  y|Y )
    echo
    echo 'Installing Ack...'
    brew install ack
    echo
    echo 'Installing Node...'
    brew install node
    echo
    echo 'Installing GCC...'
    brew install gcc
    echo
    echo 'Installing QT5...'
    brew install qt5 --with-docs --with-developer --with-d-bus --with-mysql
    echo
    echo 'Upgrading Homebrew Packages...'
    brew upgrade
    echo
    echo 'Installing Underscore...'
    sudo npm install -g underscore
    echo
    echo 'Installing Moment...'
    sudo npm install -g moment
    echo
    echo 'Updating Node Packages...'
    npm update
  ;;
esac

echo ; echo '--- Preferences' ; echo
read -p 'Shortcut for Sublime Text alias? (y/n) ' answer
case ${answer:0:1} in
  y|Y )
    ln -s /Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl /usr/local/bin/subl
  ;;
esac
echo
read -p 'Install Preferences? (y/n) ' answer
case ${answer:0:1} in
  y|Y )
    echo
    echo 'Loading Bash Profile, Git Config, and Git Ignore...'
    ditto ./preferences/.[^.]* ~/
    echo
    echo 'Loading Application Preferences...'
    ditto ./preferences/*.plist ~/Library/Preferences/
    echo
    echo 'Loading Sublime Text Settings...'
    ditto ./preferences/Preferences.sublime-settings ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/
    echo
    echo 'Setting the default Finder location to the home folder...'
    defaults write com.apple.finder NewWindowTarget -string "PfLo" && \
    defaults write com.apple.finder NewWindowTargetPath -string "file://${HOME}"
    echo
    echo 'Setting the current directory as the default search scope in Finder...'
    defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"
    echo
    echo 'Displaying the path bar in Finder...'
    defaults write com.apple.finder ShowPathbar -bool true
    echo
    echo 'Displaying the status bar in Finder...'
    defaults write com.apple.finder ShowStatusBar -bool true
    echo
    echo 'Displaying the ~/Library folder...'
    chflags nohidden ~/Library
    echo
    echo 'Displaying folders first when sorted by kind in Finder...'
    ditto ./preferences/InfoPlist.strings /System/Library/CoreServices/Finder.app/Contents/Resources/English.lproj/
    echo
    echo 'Disabling icons for hard drives, servers, and removable media on the desktop...'
    defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool false && \
    defaults write com.apple.finder ShowHardDrivesOnDesktop -bool false && \
    defaults write com.apple.finder ShowMountedServersOnDesktop -bool false && \
    defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool false
    echo
    echo 'Disabling Dashboard...'
    defaults write com.apple.dashboard mcx-disabled -boolean YES
    echo
    echo 'Enabling text selection in Quick Look...'
    defaults write com.apple.finder QLEnableTextSelection -bool TRUE
  ;;
esac
echo
echo 'Restarting Dock...'
killall Dock
echo 'Restarting Finder...'
killall Finder