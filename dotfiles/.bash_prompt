#!/usr/bin/env bash

# Colors
function text() {
  if [[ $1 = 'color' ]]; then
    if   [[ $2 = 'black' ]];   then tput setaf 0
    elif [[ $2 = 'red' ]];     then tput setaf 1
    elif [[ $2 = 'green' ]];   then tput setaf 2
    elif [[ $2 = 'yellow' ]];  then tput setaf 3
    elif [[ $2 = 'blue' ]];    then tput setaf 4
    elif [[ $2 = 'magenta' ]]; then tput setaf 5
    elif [[ $2 = 'cyan' ]];    then tput setaf 6
    elif [[ $2 = 'white' ]];   then tput setaf 7
    fi
  elif [[ $1 = 'bold' ]];      then tput bold
  elif [[ $1 = 'underline' ]]; then tput smul
  elif [[ $1 = 'invert' ]];    then tput rev
  elif [[ $1 = '' ]];          then tput init
  fi
}

# Title bar - "user@host: ~"
title="\u@\h: \w"
titlebar="\[\033]0;"$title"\007\]"

# Git branch
git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)\ /';
}

# Custom bash prompt - "➜ ~ (master) "
export PS1="$(text)${titlebar}$(text color green)➜ $(text color blue)\W $(text color cyan)$(git_branch)$(text)"
